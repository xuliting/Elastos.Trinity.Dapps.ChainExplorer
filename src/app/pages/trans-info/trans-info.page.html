<ion-header no-border>
  <ion-toolbar mode="ios">
    <ion-buttons slot="start" class="header-btns">
      <ion-button [routerLink]="['/menu/blocks']">
        <ion-icon mode="ios" name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Tx Details</ion-title>
    <ion-buttons slot="end" class="header-btns">
      <ion-menu-toggle>
        <ion-icon src="../assets/icon/menu.svg"></ion-icon>
      </ion-menu-toggle>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

  <ion-content>
    <ion-grid class="container" padding-top>

      <ion-row>
        <ion-col class="tx-header">
          <ion-img src="../assets/images/tx.png"></ion-img> &nbsp;
          <ion-label>{{ tx._id.slice(0,30) }}...</ion-label>
        </ion-col>
      </ion-row>

      <!-- Block summary -->

      <ion-row>
        <ion-col size="12" class="section">
          <h2>Transaction Summary</h2>
        </ion-col>
      </ion-row>

      <ion-row class="details">
        <h4>Recieved Time</h4>
        <p>{{ getDate(tx.time)}} </p>
      </ion-row>

      <ion-row class="details">
        <h4>Mined Time</h4>
        <p>{{ getDate(tx.blocktime)}} </p>
      </ion-row>

      <ion-row class="details">
        <h4>Size</h4>
        <p>{{ tx.size }}</p>
      </ion-row>

      <ion-row class="details">
        <h4>Confirmations</h4>
        <p>{{ tx.confirmations }}</p>
      </ion-row>

      <ion-row class="details">
        <h4>Block Height</h4>
        <p>{{ tx.blockheight }}</p>
      </ion-row>

      <ion-row class="details">
        <h4>Block Hash</h4>
        <p class="overflow">{{ tx.blockhash }}</p>
      </ion-row>

      <ion-row padding-top>
        <ion-col size="12" class="section">
          <h2>Transaction Details</h2>
        </ion-col>
      </ion-row>

      <div *ngIf="tx.isCoinBase">
        <ion-row class="details">
          <h4>Transaction Type</h4>
          <p>Coins Generated</p>
        </ion-row>

        <ion-row class="details">
          <h4>Total Payout</h4>
          <p>{{ tx.valueOut }}</p>
        </ion-row>

        <ion-row class="details">
          <h4>Fees</h4>
          <p>{{ tx.fees }}</p>
        </ion-row>

        <ion-row class="details">
          <div>
            <h4 *ngFor="let x of tx.vout">{{ x.value }}</h4>
          </div>
          <ion-img src="../assets/images/tx.png"></ion-img>
          <div>
            <p *ngFor="let x of tx.vout">{{ x.scriptPubKey.addresses[0].slice(0,30) }}...</p>
          </div>
        </ion-row>
      </div>

      <div *ngIf="tx.vtype === 5">
        <ion-row class="details">
          <h4>Transaction Type</h4>
          <p>Sidechain</p>
        </ion-row>

        <ion-row class="details">
          <h4>Total Payout</h4>
          <p>{{ tx.valueOut }}</p>
        </ion-row>

        <ion-row class="details">
          <h4>Fees</h4>
          <p>{{ tx.fees }}</p>
        </ion-row>

        <ion-row class="details">
          <h4>Sender</h4>
          <p>{{ tx.vin[0].addr.slice(0,30) }}...</p>
        </ion-row>

        <ion-row class="details">
          <div>
            <h4 *ngFor="let x of tx.vout">{{ x.value }}</h4>
          </div>
          <ion-img src="../assets/images/tx.png"></ion-img>
          <div>
            <p *ngFor="let x of tx.vout">{{ x.scriptPubKey.addresses[0].slice(0,30) }}...</p>
          </div>
        </ion-row>
      </div>

      <div *ngIf="tx.vtype === 2">
        <ion-row class="details">
          <h4>Transaction Type</h4>
          <p>Asset Transfer</p>
        </ion-row>

        <ion-row class="details">
          <h4>Total Payout</h4>
          <p>{{ tx.valueOut }}</p>
        </ion-row>

        <ion-row class="details">
          <h4>Fees</h4>
          <p>{{ tx.fees }}</p>
        </ion-row>

        <ion-row class="details">
          <h4>Sender</h4>
          <p>{{ tx.vin[0].addr.slice(0,30) }}...</p>
        </ion-row>

        <ion-row class="details">
          <div>
            <h4 *ngFor="let x of tx.vout">{{ x.value }}</h4>
          </div>
          <ion-img src="../assets/images/tx.png"></ion-img>
          <div>
            <p *ngFor="let x of tx.vout">{{ x.scriptPubKey.addresses[0].slice(0,30) }}...</p>
          </div>
        </ion-row>
      </div>

    </ion-grid>
  </ion-content>
